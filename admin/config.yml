# ============================================
# NETLIFY / DECAP CMS CONFIGURATION
# Project: CURUZA HUB F LTD
# Admin URL: /admin
# ============================================

backend:
  name: git-gateway
  branch: main
  commit_messages:
    create: 'Create {{collection}} “{{slug}}”'
    update: 'Update {{collection}} “{{slug}}”'
    delete: 'Delete {{collection}} “{{slug}}”'
    uploadMedia: '[skip ci] Upload “{{path}}”'
    deleteMedia: '[skip ci] Delete “{{path}}”'

# ============================================
# AUTHENTICATION & WORKFLOW
# ============================================

publish_mode: editorial_workflow
locale: "en"

# ============================================
# MEDIA SETTINGS
# ============================================

media_folder: "uploads"
public_folder: "/uploads"

# ============================================
# SITE URL (VERY IMPORTANT)
# ============================================

site_url: "https://steady-starship-7b39b1.netlify.app"
display_url: "https://steady-starship-7b39b1.netlify.app"
logo_url: "https://ik.imagekit.io/p5fgz8czl/file_00000000057871fdb06e8fd2aa179ffc.png"

# ============================================
# COLLECTIONS
# ============================================

collections:

  # ============================================
  # SERVICES
  # ============================================
  - name: "services"
    label: "Services"
    folder: "content/services"
    create: true
    delete: true
    slug: "{{slug}}"
    identifier_field: "title_en"

    editor:
      preview: false

    fields:
      - { label: "Service ID", name: "id", widget: "string", required: true }
      - { label: "Icon Class (Font Awesome)", name: "icon", widget: "string", default: "fas fa-handshake" }

      - { label: "Title (English)", name: "title_en", widget: "string", required: true }
      - { label: "Description (English)", name: "description_en", widget: "text", required: true }
      - { label: "Details (English)", name: "details_en", widget: "markdown", required: false }

      - { label: "Title (Kinyarwanda)", name: "title_rw", widget: "string", required: true }
      - { label: "Description (Kinyarwanda)", name: "description_rw", widget: "text", required: true }
      - { label: "Details (Kinyarwanda)", name: "details_rw", widget: "markdown", required: false }

      - { label: "Featured Image", name: "featured_image", widget: "image", required: false }
      - { label: "Order", name: "order", widget: "number", default: 1 }
      - { label: "Active", name: "active", widget: "boolean", default: true }
      - { label: "Featured", name: "featured", widget: "boolean", default: false }

      - { label: "Last Updated", name: "updated", widget: "datetime", required: false }

  # ============================================
  # OPPORTUNITIES
  # ============================================
  - name: "opportunities"
    label: "Opportunities"
    folder: "content/opportunities"
    create: true
    delete: true
    slug: "{{slug}}"

    editor:
      preview: false

    fields:
      - { label: "Opportunity ID", name: "id", widget: "string", required: true }
      - { label: "Title", name: "title", widget: "string", required: true }

      - label: "Type"
        name: "type"
        widget: "select"
        options:
          - { label: "Job", value: "job" }
          - { label: "Business", value: "business" }
          - { label: "Investment", value: "investment" }
          - { label: "Partnership", value: "partnership" }

      - { label: "Description", name: "description", widget: "markdown", required: true }
      - { label: "Requirements", name: "requirements", widget: "list", required: false }
      - { label: "Benefits", name: "benefits", widget: "list", required: false }

      - { label: "Location", name: "location", widget: "string", default: "Kigali, Rwanda" }
      - { label: "Contact Email", name: "contact_email", widget: "string", required: false }
      - { label: "Contact Phone", name: "contact_phone", widget: "string", required: false }

      - label: "Status"
        name: "status"
        widget: "select"
        default: "active"
        options:
          - { label: "Active", value: "active" }
          - { label: "Closed", value: "closed" }

      - { label: "Publish Date", name: "publish_date", widget: "datetime", required: false }
      - { label: "Expiry Date", name: "expiry_date", widget: "datetime", required: false }

      - { label: "Featured Image", name: "featured_image", widget: "image", required: false }
      - { label: "External Link", name: "external_link", widget: "string", required: false }

  # ============================================
  # STATIC PAGES
  # ============================================
  - name: "pages"
    label: "Pages"
    delete: false
    create: false

    files:

      - name: "about"
        label: "About Page"
        file: "content/pages/about.json"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content (EN)", name: "content_en", widget: "markdown" }
          - { label: "Content (RW)", name: "content_rw", widget: "markdown" }

      - name: "profile"
        label: "Company Profile"
        file: "content/pages/profile.json"
        fields:
          - { label: "Company Name", name: "company", widget: "string" }
          - { label: "TIN", name: "tin", widget: "string" }
          - { label: "Business Description", name: "description", widget: "markdown" }

      - name: "contact"
        label: "Contact Page"
        file: "content/pages/contact.json"
        fields:
          - { label: "Address", name: "address", widget: "string" }
          - { label: "Phone", name: "phone", widget: "string" }
          - { label: "Email", name: "email", widget: "string" }
          - { label: "Map URL", name: "map", widget: "string", required: false }

# ============================================
# EDITOR SETTINGS
# ============================================

editor:
  preview: false